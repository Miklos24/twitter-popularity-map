(this["webpackJsonptwitter-popularity-map"]=this["webpackJsonptwitter-popularity-map"]||[]).push([[0],{185:function(e,t,a){},186:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(5),s=a(0),r=a.n(s),c=a(97),i=a.n(c),o=(a(185),a(17)),l=(a(186),a(187),a(47)),d=a(48),u=function(e){var t=Object(s.useState)({}),a=Object(o.a)(t,2),r=a[0],c=a[1],i=e.tweet_type,u=e.tweet_date,h=Object(s.useState)(new Date(u)),j=Object(o.a)(h,2),p=j[0],b=j[1];Object(s.useEffect)((function(){0!==Object.entries(r).length&&u===p||(fetch("/api/tweets?date=".concat(u.getTime())).then((function(e){return e.json()})).then((function(e){c(e)})),b(u)),console.log(r)}),[r,u,p]);var f=d.b().domain(d.a(Object.values(r).map((function(e){return e["".concat(i,"_score")]})))).range(d.c[9]);return Object(n.jsx)(l.ComposableMap,{projection:"geoAlbersUsa",children:Object(n.jsx)(l.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",children:function(e){return e.geographies.map((function(e){return Object(n.jsx)(l.Geography,{geography:e,fill:e.properties.name in r?f(r[e.properties.name]["".concat(i,"_score")]):"#FFFFFF",stroke:"rgb(186, 186, 186)"},e.rsmKey)}))}})})},h=a(101),j=a(34),p=a(60),b=function(e){var t=Object(s.useState)(new Date(2020,11,28)),a=Object(o.a)(t,2),r=a[0],c=(a[1],e.updateMap),i=e.date,l=e.type;return Object(n.jsxs)("div",{className:"Map-settings",children:[Object(n.jsxs)("div",{className:"Map-slider",children:[Object(n.jsx)(p.a,{children:Object(n.jsx)(p.a.Control,{type:"range",min:0,max:Math.round((Date.now()-r)/864e5),step:1,value:Math.round((i-r)/864e5),onChange:function(e){e.preventDefault(),c(new Date(r.getTime()+864e5*e.target.value),l)}})}),Object(n.jsx)("p",{children:i.toDateString()})]}),Object(n.jsx)("div",{className:"Map-toggle",children:Object(n.jsxs)(h.a,{className:"d-flex",type:"radio",name:"options",defaultValue:"neg"===l?1:2,children:[Object(n.jsx)(j.a,{value:1,variant:"outline-danger",onClick:function(){return c(i,"neg")},children:" Unfavorable Tweets "}),Object(n.jsx)(j.a,{value:2,variant:"outline-success",onClick:function(){return c(i,"pos")},children:" Favorable Tweets "})]})})]})};var f=function(){var e=Object(s.useState)("pos"),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(new Date(Date.now())),i=Object(o.a)(c,2),l=i[0],d=i[1];return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("h1",{children:" Hated in the Nation "})}),Object(n.jsxs)("div",{className:"App-body",children:[Object(n.jsx)(b,{date:l,type:a,updateMap:function(e,t){d(e),r(t)}}),Object(n.jsx)("div",{className:"Map-container",children:Object(n.jsx)(u,{tweet_type:a,tweet_date:l})}),Object(n.jsxs)("p",{children:["To create this site, I ran a sentiment analysis on a random sample of 200 tweets published in the last 7 days for each state in the United States. I determined if a particular tweet was about a particular US state by using the Twitter API's new ",Object(n.jsx)("em",{children:"Annotations"})," feature, which uses AI to determine if a tweet is discussion a particular topic. Every day, I repeated this analysis to try to get an idea of how sentiment about states changed over time. You can observe this change by adjusting the date slider. I also decided to judge each state by tweets that showed a favorable bent, as well as an unfavorable one. I guessed that these two variables wouldn't be perfect correlated, and was interested to see the results. To see those results for yourself, you can toggle between the Favorable and Unfavorable Tweets."]}),Object(n.jsx)("p",{children:"In the future, there are many features I'd like to add. I would list them, but I am tired. Apologies for the wall of text."})]})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,197)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root")),g()}},[[193,1,2]]]);
//# sourceMappingURL=main.11c7670a.chunk.js.map